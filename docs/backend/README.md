# Backend API - ResumeMint

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

Backend ResumeMint - —ç—Ç–æ Node.js API —Å–µ—Ä–≤–µ—Ä, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π AI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ OpenAI API.

## üìÅ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
backend/
‚îú‚îÄ‚îÄ server.js              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (1402 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile             # Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îú‚îÄ‚îÄ .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ env.example            # –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ routes/                # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ middleware/            # Middleware —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ schemas/               # –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ prompts/               # –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è AI
‚îî‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

### server.js
- **–†–∞–∑–º–µ—Ä**: 62KB
- **–°—Ç—Ä–æ–∫**: 1402
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä Express.js
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - Middleware (CORS, JSON, —Ñ–∞–π–ª—ã)
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
  - API –º–∞—Ä—à—Ä—É—Ç—ã
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### package.json
```json
{
  "name": "resume-mint-backend",
  "version": "1.0.0",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "cors": "^2.8.5",
    "multer": "^1.4.5-lts.1",
    "openai": "^4.20.1",
    "dotenv": "^16.3.1",
    "mammoth": "^1.6.0"
  }
}
```

## üåê API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

#### `/api/parse/docx`
- **–ú–µ—Ç–æ–¥**: POST
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–∞—Ä—Å–∏–Ω–≥ DOCX —Ñ–∞–π–ª–æ–≤
- **–í—Ö–æ–¥**: FormData —Å —Ñ–∞–π–ª–æ–º
- **–í—ã—Ö–æ–¥**: JSON —Å —Ç–µ–∫—Å—Ç–æ–º

#### `/api/analyze`
- **–ú–µ—Ç–æ–¥**: POST
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—é–º–µ
- **–í—Ö–æ–¥**: `{ resumeText: string, jobText?: string }`
- **–í—ã—Ö–æ–¥**: JSON —Å –∞–Ω–∞–ª–∏–∑–æ–º

#### `/api/premium/oneshot`
- **–ú–µ—Ç–æ–¥**: POST
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–µ–º–∏—É–º –∞–Ω–∞–ª–∏–∑
- **–í—Ö–æ–¥**: `{ resumeText: string, jobText: string }`
- **–í—ã—Ö–æ–¥**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

#### `/api/combo/summary-match`
- **–ú–µ—Ç–æ–¥**: POST
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- **–í—Ö–æ–¥**: `{ resumeText: string, jobText: string }`
- **–í—ã—Ö–æ–¥**: –°–≤–æ–¥–∫–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

## üîß Middleware

### CORS
```javascript
app.use(cors());
```
- –†–∞–∑—Ä–µ—à–∞–µ—Ç –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Docker

### JSON Parser
```javascript
app.use(express.json({ limit: '10mb' }));
```
- –ü–∞—Ä—Å–∏–Ω–≥ JSON –¥–æ 10MB
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö —Ä–µ–∑—é–º–µ

### File Upload
```javascript
const upload = multer({
  storage: storage,
  fileFilter: fileFilter,
  limits: { fileSize: 10 * 1024 * 1024, files: 1 }
});
```
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DOCX, DOC, TXT, PDF
- –õ–∏–º–∏—Ç 10MB –Ω–∞ —Ñ–∞–π–ª

## ü§ñ AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### OpenAI –∫–ª–∏–µ–Ω—Ç
```javascript
const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
});
```

### –ú–æ–¥–µ–ª–∏
- **–û—Å–Ω–æ–≤–Ω–∞—è**: `gpt-3.5-turbo-0125`
- **–ü—Ä–µ–º–∏—É–º**: `gpt-4o-mini`
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞**: 0.2
- **–ú–∞–∫—Å —Ç–æ–∫–µ–Ω—ã**: 2000

### –ü—Ä–æ–º–ø—Ç—ã
- –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—é–º–µ
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –≤–∞–∫–∞–Ω—Å–∏–µ–π
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–∞
```javascript
if (!process.env.OPENAI_API_KEY || 
    process.env.OPENAI_API_KEY === 'your-openai-api-key-here') {
  throw new Error('Invalid OpenAI API key');
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ó–∞–ø—Ä–æ—Å—ã –∫ API
- –û—à–∏–±–∫–∏ OpenAI
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

## üê≥ Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### Dockerfile
```dockerfile
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --omit=dev
COPY . .
ENV NODE_ENV=production
EXPOSE 5000
CMD ["npm", "run", "start"]
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `PORT=5000`
- `NODE_ENV=production`
- `OPENAI_API_KEY` (–∏–∑ .env)
- `CORS_ORIGIN=http://localhost:8080`

## üöÄ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
cd backend
npm install
npm run dev
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl http://localhost:5000/api/ping

# –¢–µ—Å—Ç –∞–Ω–∞–ª–∏–∑–∞
curl -X POST http://localhost:5000/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"resumeText": "test"}'
```

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- [Frontend](../frontend/README.md)
- [Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](../docker/README.md)
- [Environment –Ω–∞—Å—Ç—Ä–æ–π–∫–∏](../config/README.md)
- [API Endpoints](../api/README.md)
